#include<iostream>
#include<windows.h>
#include<conio.h>

using namespace std;

//funcion para mover caracteres por medio dle teclado
void gotoxy(int x, int y){
HANDLE hcon = GetStdHandle(STD_OUTPUT_HANDLE);
 COORD dwPos;
 dwPos.X = x;
 dwPos.Y = y;
 SetConsoleCursorPosition(hcon, dwPos);
}
// arreglo para posicionar los barcos
//dibuja el tablero
char ma[22][22] =   {{' ',' ','A',' ','B',' ','C',' ','D',' ','E',' ','F',' ','G',' ','H',' ','I',' ','J',' '},
       {' ',' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '},
       {'0','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'1','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'2','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'3','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'4','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'5','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'6','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'7','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'8','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
       {'9','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
       {' ',' ','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-',' '},};


class enemigo{
	private:
		public:
			void pintarmapa();
			void pintar(int, int);
			void borrar(int,int);
			void mover(int &, int &);
};
// para crear naves para el tablero

class jugador{
	
	public:
		void pintar_portaaviones(int,int,int);
		void borrar_portaaviones(int,int,int);
		void moverportaaviones(int &,int &,int);
};
//funcion para imprimir porta aviones, se repite 4 veces por que portaaviones sera 4 casillas

void jugador::pintar_portaaviones(int x, int y, int c)
{
	if(c==0)
	{
		gotoxy(x,y);cout<<"P";
		gotoxy(x,y+2);cout<<"P";
		gotoxy(x,y+4);cout<<"P";
		gotoxy(x,y+6);cout<<"P";
		
	}
	else
	{
		gotoxy(x,y);cout<<"P";
		gotoxy(x+2,y);cout<<"P";
		gotoxy(x+4,y);cout<<"P";
		gotoxy(x+6,y);cout<<"P";
		
	}
}

void enemigo::pintarmapa()
{
	for(int i=0;i<22;i++)
	{
		cout<<endl;
		for(int j=0;j<22;j++)
		{
			cout<<ma[i][j];
		}
	}
}
void enemigo::pintar(int x, int y)
{
	gotoxy(x,y);
	cout<<"O";
}
//esta funcion es para borrar el rastro del parametro ingresado O
void enemigo::borrar(int x,int y)

{
	gotoxy(x,y);
	cout<<" ";
}

// se cambi a los valores sumando dos posiciones para que los movimientos coincidan con la tabla impresa
// se agrega && para que no se saga de la tabla
void enemigo:: mover(int &x,int &y)
{
	if(kbhit())
	{
		enemigo::borrar(x,y);
		char tecla= getch();
		if(tecla=='a'&& x>2) x=x-2;
		if(tecla=='d'&& x<20) x=x+2;
		if(tecla=='w'&& y>3) y=y-2;
		if(tecla=='s'&& y<21) y=y+2;
		enemigo::pintar(x,y);
	}
}

int main ()
{
	enemigo a;
	jugador b;
	// se declara q1 y w1 por que se esta pasando una direccion en lugar de un valor para permitir borrar las O al cambiar de posicion
	// se cambio los valores a 2 y 3 para que coincida con la tabla impresa en ma
	int q1=2,w1=3;
	int q2=2,w2=28;
	a.pintarmapa();
	gotoxy(0,25);
	a.pintarmapa();
	b.pintar_portaaviones(2,28,0);
	// solo se ejecutara un vez mover a.pintar(10,10);
	while(true)
	{
		a.mover(q1,w1);
	}
	
}

